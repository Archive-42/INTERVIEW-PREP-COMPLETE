if (self.CavalryLogger) { CavalryLogger.start_js(["aBi32"]); }

__d("CometVideoViewerTaggedProductsSectionLiveQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"isOwnerPage"},b={defaultValue:null,kind:"LocalArgument",name:"videoID"},c=[{kind:"Variable",name:"id",variableName:"videoID"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}],storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"is_shopping_video",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},j=[{kind:"Literal",name:"height",value:120},{kind:"Literal",name:"width",value:120}],k=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{fragment:{argumentDefinitions:[a,b],kind:"Fragment",metadata:null,name:"CometVideoViewerTaggedProductsSectionLiveQuery",selections:[{alias:"video",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[d,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[e],storageKey:null},{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"video_product_tags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometProductTagsListSection_productTags"}],storageKey:null},{alias:null,args:null,concreteType:"LiveShoppingFeaturedLinkWrapper",kind:"LinkedField",name:"featured_links",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometProductTagsListSection_linkAlerts"}],storageKey:null},f,{condition:"isOwnerPage",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CometProductTagsListSection_profile"}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null}]}],type:"Video",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,a],kind:"Operation",name:"CometVideoViewerTaggedProductsSectionLiveQuery",selections:[{alias:"video",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g,d,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[e,d],storageKey:null},{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"video_product_tags",plural:!0,selections:[d,{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_tag_product",storageKey:null},h,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"formatted_price",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_profile_selling_post",storageKey:null},{alias:"picture",args:j,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:k,storageKey:"profile_picture(height:120,width:120)"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[g,{alias:null,args:j,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:k,storageKey:"image(height:120,width:120)"},d],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"seller",plural:!1,selections:[g,d],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LiveShoppingFeaturedLinkWrapper",kind:"LinkedField",name:"featured_links",plural:!0,selections:[d,i,{alias:null,args:null,kind:"ScalarField",name:"promotion_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_uri",storageKey:null}],storageKey:null},f,{condition:"isOwnerPage",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[g,d,{kind:"InlineFragment",selections:[h,{alias:null,args:j,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:k,storageKey:"profile_picture(height:120,width:120)"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shop_storefront",plural:!1,selections:[g,{kind:"InlineFragment",selections:[d],type:"Node",abstractKey:"__isNode"}],storageKey:null}],type:"Page",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null}]}],type:"Video",abstractKey:null}],storageKey:null}]},params:{id:"3291612950888179",metadata:{live:{config_id:"comet_video_viewer_tagged_products"}},name:"CometVideoViewerTaggedProductsSectionLiveQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometInputWithCommands.react",["CometComponentWithKeyCommands.react","CometKeys","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=g.useMemo(function(){var c=[];a.enter!=null&&c.push({command:{key:b("CometKeys").ENTER},description:a.enter.description,handler:a.enter.handler,triggerFromInputs:!0});a["delete"]!=null&&c.push({command:{key:b("CometKeys").DELETE},description:a["delete"].description,handler:a["delete"].handler,triggerFromInputs:!0});a.up!=null&&c.push({command:{key:b("CometKeys").UP},description:a.up.description,handler:a.up.handler,triggerFromInputs:!0});a.down!=null&&c.push({command:{key:b("CometKeys").DOWN},description:a.down.description,handler:a.down.handler,triggerFromInputs:!0});a.tab!=null&&c.push({command:{key:b("CometKeys").TAB},description:a.tab.description,handler:a.tab.handler,triggerFromInputs:!0});a.esc!=null&&c.push({command:{key:b("CometKeys").ESCAPE},description:a.esc.description,handler:a.esc.handler,triggerFromInputs:!0});return c},[a["delete"],a.down,a.enter,a.esc,a.tab,a.up]);return g.jsx(b("CometComponentWithKeyCommands.react"),{commandConfigs:c,debugName:"InputSubmit",elementType:a.isInline===!0?"span":"div",xstyle:a.xstyle,children:a.children})}}),null);
__d("CometProductTagDotHint.react",["React","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var b=Boolean(a.isHighlighted)?"var(--accent)":"var(--fds-black-alpha-20)";return g.jsx("div",{className:"taijpn5t j83agx80 bp9cbjyn",style:{padding:a.padding},children:g.jsx("div",{className:"spb7xbtv bkmhp75w emlxlaya s45kfl79 q2y6ezfg sgqq4ow5",style:{border:a.borderSize+"px solid "+b,height:a.dotSize,width:a.dotSize}})})}}),null);
__d("CometVideoViewerTaggedProductsSection.react",["fbt","CometProductTagsListSection.react","CometRelay","React","TetraText.react","gkx","stylex","CometVideoViewerTaggedProductsSectionLiveQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j="product_tag_on_video_fullscreen_",k=h!==void 0?h:h=b("CometVideoViewerTaggedProductsSectionLiveQuery.graphql");function a(a){var c=a.isOwnerPage,d=a.videoID;a=b("CometRelay").useQueryLoader(k);var e=a[0],f=a[1];i.useEffect(function(){f({isOwnerPage:c,videoID:d})},[f,d,c]);return e!=null&&b("gkx")("1069716")?i.jsx(l,{isOwnerPage:c,queryRef:e}):null}function l(a){var c,d=b("CometRelay").usePreloadedQuery(k,a.queryRef);d=d.video;var e=d==null?void 0:d.id;if(e==null)return null;var f=d==null?void 0:d.owner;if(a.isOwnerPage&&f==null)return null;a=d==null?void 0:d.video_product_tags;var h=Boolean(d==null?void 0:d.is_shopping_video)?d==null?void 0:d.featured_links:null;if((a==null||a.length===0)&&(h==null||h.length===0))return null;return Boolean(d==null?void 0:d.is_shopping_video)&&!b("gkx")("1877606")?null:i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"discj3wi ihqw7lf3",children:i.jsx(b("TetraText.react"),{color:"primary",type:"bodyLink2",children:Boolean(d==null?void 0:d.is_shopping_video)?g._("Featured"):g._("Shop this Video")})}),i.jsx(b("CometProductTagsListSection.react"),{adID:d==null?void 0:(c=d.creation_story)==null?void 0:(c=c.sponsored_data)==null?void 0:c.ad_id,alerts:h||[],isLiveShoppingVideo:Boolean(d==null?void 0:d.is_shopping_video),postID:e,profile:f,referralCode:j+e,surface:"video_fullscreen",tags:a||[],videoID:e})]})}}),null);
__d("CometTextInputWithIcon.react",["BaseTextInput.react","CometScreenReaderText.react","React","TetraIcon.react","stylex","useBaseInputValidators","useCometUniqueID"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={disabledInput:{cursor:"rj84mg9z"},iconEnd:{end:"dpjh1vo5",position:"pmk7jnqg",top:"plgsh5y4"},iconStart:{position:"pmk7jnqg",start:"dnzpfbms",top:"plgsh5y4"},root:{color:"oo9gr5id",fontSize:"jq4qci2q",position:"l9j0dhe7"},textInput:{backgroundColor:"cwj9ozl2",borderTop:"l6v480f0",borderEnd:"maa8sdkg",borderBottom:"s1tcr66n",borderStart:"aypy0576",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",boxSizing:"rq0escxv",color:"oo9gr5id",fontSize:"l94mrbxd",fontWeight:"ekzkrbhg",height:"tv7at329",width:"k4urcfbm"},textInputEndIcon:{paddingTop:"jb3vyjys",paddingEnd:"bowiujrr",paddingBottom:"qt6c0cv9",paddingStart:"h4z51re5"},textInputStartIcon:{paddingTop:"jb3vyjys",paddingEnd:"rv4hoivh",paddingBottom:"qt6c0cv9",paddingStart:"jg4yhqs5"}};function a(a,c){var d,e=a["aria-describedby"],f=a.disabled;f=f===void 0?!1:f;var j=a.icon,k=a.iconColor,l=a.iconPlacement;l=l===void 0?"start":l;var m=a.label,n=a.validator,o=a.value;a=babelHelpers.objectWithoutPropertiesLoose(a,["aria-describedby","disabled","icon","iconColor","iconPlacement","label","validator","value"]);var p=b("useCometUniqueID")();n=b("useBaseInputValidators")({validator:n,value:String(o)});var q=n.topResultReason;n=n.topResultType;e=q!=null?p+" "+((d=e)!=null?d:""):(d=e)!=null?d:void 0;return h.jsxs("div",{className:(g||(g=b("stylex")))(i.root),children:[l==="start"?h.jsx("div",{className:(g||(g=b("stylex")))(i.iconStart),children:h.jsx(b("TetraIcon.react"),{color:k,icon:j,size:16})}):null,h.jsx(b("BaseTextInput.react"),babelHelpers["extends"]({"aria-describedby":e,"aria-invalid":n==="ERROR","aria-label":m,disabled:f,value:o,xstyle:[f&&i.disabledInput,i.textInput,l==="start"&&i.textInputStartIcon,l==="end"&&i.textInputEndIcon]},a,{ref:c})),l==="end"?h.jsx("div",{className:(g||(g=b("stylex")))(i.iconEnd),children:h.jsx(b("TetraIcon.react"),{color:k,icon:j,size:16})}):null,q!=null?h.jsx(b("CometScreenReaderText.react"),{id:p,text:q}):null]})}c=h.forwardRef(a);e.exports=c}),null);
__d("basicCoordinateTransform",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var b=a.clientWindowX,c=a.clientWindowY,d=a.imageLeftPosition;a=a.imageTopPosition;b=b-d;d=c-a;return{intermediateX:b,intermediateY:d}}}),null);
__d("MediaEditorViewStateContext",["React","basicCoordinateTransform"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext({index:0,clickEventCoordinateTransforms:[b("basicCoordinateTransform")]});e.exports=c}),null);
__d("CometPhotoProductTagMenuItem.react",["CometImage.react","CometMenuItem.react","CometMenuItemBase.react","CometProductTagFunnelIDContext","CometProductTagReferralCodeContext","CommercePdpProductTagClickFalcoEvent","MediaEditorViewStateContext","ProductTaggingBuyerTypedLogger","React","TetraText.react","XCometCommerceProductItemControllerRouteBuilder","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=70,j="#",k="newsfeed",l="product_tag_on_photo_fullscreen_",m="unconnected_commerce_product_match_on_photo_fullscreen_",n="product_tag_on_newsfeed_photo",o="unconnected_commerce_product_match_on_newsfeed_photo_fullscreen_";function a(a,c){var d,e=a.adID,f=a.isProductMatch,q=a.postID,r=a.productID,s=h.useContext(b("CometProductTagFunnelIDContext")),t=(d=h.useContext(b("MediaEditorViewStateContext")))==null?void 0:d.activeTool,u=h.useContext(b("CometProductTagReferralCodeContext"));if(q==null||r==null)return null;d=u===k;var v=f===!0?m:l;d&&(v=f===!0?o:n);var w=function(){b("CommercePdpProductTagClickFalcoEvent").log(function(){return{ad_id:e,component:"CometPhotoProductTagMenuItem",funnel_id:s,marketplace_surface:"photo_fullscreen",post_id:q,product_id:r,referral_code:v+q}});if(u!=null){var c=new(b("ProductTaggingBuyerTypedLogger"))();c.updateData({component:"CometPhotoProductTagMenuItem",post_id:a.postID,referral_code:u,surface:"page_photos_tab",unresolved_event:"Actn_PDPProductTagClick"}).log()}};d=v+q;f=b("XCometCommerceProductItemControllerRouteBuilder").buildURL({listing_id:r,ref:"photo_fullscreen",referral_code:s!=null?d+j+s:d});d=function(a){var b=a.children,c=a.condition;a=a.wrapper;return c?a(b):b};d=h.jsx(d,{condition:a.tagModeEnabled===!0||t==="PRODUCT_TAG",wrapper:function(a){return h.jsx("div",{className:(g||(g=b("stylex")))(p.productTagModeCursor),children:a})},children:h.jsxs("div",{className:(g||(g=b("stylex")))(p.rootLayout),children:[h.jsx(b("CometImage.react"),{height:i,src:(d=a.profilePictureUri)!=null?d:"",width:i,xstyle:p.profileImage}),h.jsxs("div",{className:g(p.rightContent),children:[h.jsx("div",{className:g(p.productName),children:h.jsx(b("TetraText.react"),{color:"primary",numberOfLines:2,type:"bodyLink3",children:a.primaryText})}),h.jsx(b("TetraText.react"),{color:"primary",type:"body3",children:a.bodyText})]}),h.jsx("div",{className:g(p.crossButton),children:a.aux})]})});return h.jsx(b("CometMenuItemBase.react"),{alignCenter:!0,href:a.tagModeEnabled===!0||t==="PRODUCT_TAG"?"#":f,iconNode:d,onClick:function(b){a.tagModeEnabled===!0||t==="PRODUCT_TAG"?(b.stopPropagation(),b.nativeEvent.stopImmediatePropagation()):w()},primaryText:"",ref:c})}var p={crossButton:{alignSelf:"nqmvxvec",marginStart:"ozuftl9m"},productName:{marginBottom:"tvmbv18p"},productTagModeCursor:{cursor:"rj84mg9z"},profileImage:{borderTop:"opwvks06",borderEnd:"hop1g133",borderBottom:"linmgsc8",borderStart:"t63ysoy8",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi"},rightContent:{marginStart:"ozuftl9m"},rootLayout:{alignItems:"bp9cbjyn",display:"j83agx80",flexDirection:"btwxx1t3",maxWidth:"ercu3ouj"}};c=h.forwardRef(a);e.exports=c}),null);
__d("CometPhotoTagMenuItem.react",["CometMenuItemBase.react","CometMenuItemIcon.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c){var d=a.icon,e=a.iconStyle;e=e===void 0?"normal":e;a=babelHelpers.objectWithoutPropertiesLoose(a,["icon","iconStyle"]);return g.jsx(b("CometMenuItemBase.react"),babelHelpers["extends"]({},a,{alignCenter:!0,iconNode:d!=null?g.jsx(b("CometMenuItemIcon.react"),{icon:d,use:e}):null,ref:c}))}c=g.forwardRef(a);e.exports=c}),null);
__d("CometPhotoEditorTagDropdown.react",["ix","fbt","CometMenu.react","CometPhotoProductTagMenuItem.react","CometPhotoTagMenuItem.react","CometTooltip.react","CometTrackingNodeProvider.react","React","TetraIcon.react","emptyFunction","fbicon","gkx","stylex","updateTagReducer","useComposerViewStateDispatcher","useMediaEditorReducer","useMediaEditorViewStateDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c=a.id,d=a.name,e=a.onDeletePressed,f=a.onMouseEnter,j=a.onMouseLeave,k=a.photoID,l=a.productImage;a=a.productPrice;var m=i.useState(!1),n=m[0],o=m[1],p=b("useComposerViewStateDispatcher")();b("useMediaEditorReducer")(b("updateTagReducer"));var q=b("useMediaEditorViewStateDispatcher")(),r=i.useCallback(function(a){var b;e&&e();q({tagToDelete:a,type:"REMOVE_TAG"});p({mediaID:(b=k)!=null?b:"",tagIDToDelete:a,type:"REMOVE_AI_SUGGESTED_TAG"})},[p,q,e,k]);m=d;var s=function(){r&&r(c),o(!0)},t=null;b("gkx")("1069716")&&d!=null&&l!=null&&a!=null&&c!=null?t=i.jsx(b("CometMenu.react"),{size:"full",withArrow:!0,children:i.jsx(b("CometPhotoProductTagMenuItem.react"),{aux:i.jsx(b("CometTooltip.react"),{position:"above",tooltip:h._("Remove Product Tag"),children:i.jsx(b("TetraIcon.react"),{"aria-label":h._("delete tag"),color:n?"disabled":"primary",disabled:n,icon:b("fbicon")._(g("478232"),16),onPress:n?b("emptyFunction"):s})}),bodyText:a,disabled:n,postID:k,primaryText:m,productID:c,profilePictureUri:l})}):d!=null&&(t=i.jsx(b("CometMenu.react"),{size:"full",withArrow:!0,children:i.jsx(b("CometPhotoTagMenuItem.react"),{aux:i.jsx(b("TetraIcon.react"),{"aria-label":h._("delete tag"),color:n?"disabled":"primary",disabled:n,icon:b("fbicon")._(g("478232"),16),onPress:n?b("emptyFunction"):s}),disabled:n,primaryText:m})}));return i.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:254,children:i.jsx("div",{className:"j83agx80",onMouseEnter:f,onMouseLeave:j,children:t})})}}),null);
__d("adjustFaceboxPosition",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var b=a.originalPos,c=a.imageDimension;a=a.boxSize;return b<0?0:b+a>c?c-a:b}}),null);
__d("CometMediaRemoveTagFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743382");c=b("FalcoLoggerInternal").create("comet_media_remove_tag",a);e.exports=c}),null);
__d("CometMediaVpvdFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743384");c=b("FalcoLoggerInternal").create("comet_media_vpvd",a);e.exports=c}),null);