<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>w3d5-a</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="partner-a">Partner A</h1>
<h2 id="personal-pitch-1-minute">Personal Pitch (1 minute)</h2>
<p>Give me a quick rundown of your background.</p>
<h2 id="react-contrast-and-compare-question-5-minutes">React – Contrast and Compare Question (5 minutes)</h2>
<p>Other front-end frameworks and libraries exist. What are some examples of these, and how does React compare/contrast with those?</p>
<h3 id="solution">Solution</h3>
<h4 id="jquery">jQuery</h4>
<p>Like React, jQuery is a library, not a framework. It is the most popular JavaScript library in use. It wraps up many common vanilla JavaScript functions and initially gained popularity because it is guaranteed to behave identically on any browser.</p>
<p>A key contrast: the components rendered by React are a pure function of the React state, i.e. props and component state. Thus a React developer only has to think about the state of his app. On the other hand, jQuery primarily allows you to directly manipulate the DOM, meaning that it is up to the programer to keep the DOM in sync with the internal state of an app.</p>
<h4 id="vue">Vue</h4>
<p>Vue is another front-end library. Like react it uses a virtual DOM and composable components. Vue’s virtual DOM is lighter weight than React, and Vue is significantly faster, however Vue’s developer community is much smaller than React’s, so Vue has a smaller ecosystem of libraries and plugins.</p>
<h4 id="angular">Angular</h4>
<p>Angular was initially released in 2009 and is maintained by Google and a community of developers. It is part of the MEAN stack: the MongoDB database, Express.js server, Angular.js, and Node.js.</p>
<p>Angular is a framework, not a library like React, and implements a MVVM framework (Model-View-ViewModel). As a result, it offers perhaps more functionality out of the box than React. However, it also takes much more time to master and is criticized in some corners for its lack of flexibility. Angular 1.0 also struggled to handle larger amounts of data. With the release of Angular 2.0, its ability to render large amounts of data in the browser has increased. However, it still loses out to React in terms of performance.</p>
<h4 id="ember">Ember</h4>
<p>Like Angular, Ember is a framework and not just a library. It has a number of customizations that can be added to the app from the Ember CLI (an idea the Ember team took from Rails!), as well as built in testing tools. However, it doesn’t have a particularly large core team so development is slow. The community, while vibrant, doesn’t produce as many add-ons. Also, because Ember is a framework, it’s harder to customize.</p>
<h4 id="react-native">React Native</h4>
<p>React Native allows developers to write React apps in javascript and run them on mobile devices. It was released by Facebook and is also used by companies like AirBnB and Instagram. It is currently supported by iOS and Android. Microsoft also has plans to start supporting React Native apps on Windows devices.</p>
<h2 id="react-virtual-dom-question-5-minutes">React – Virtual DOM Question (5 minutes)</h2>
<p>What is React’s virtual DOM and why is it used? How does the diffing algorithm work?</p>
<h3 id="solution-1">Solution</h3>
<p>The virtual DOM is a simpler and faster abstraction of the HTML DOM. While it might be more expensive to manage two DOMs in some respects, being able to traverse and perform operations on the virtual DOM saves React from having to have costly interactions with the real one, only updating it when it absolutely needs to.</p>
<p>When rendering, React creates a tree of React elements. When state or props update, React then renders a tree of potentially different elements. The diffing algorithm figures out how to efficiently update the DOM, removing old DOM nodes and replacing them only when necessary. We give unique HTML elements unique IDs so the diffing algorithm can tell them apart.</p>
<p>This algorithm solves the problem of generating the fewest number of operations needed to manage re-rendering. The React diffing algorithm manages to run in O(n) time (where n is the number of HTML elements) using a series of rules to determine when a node will need to be updated.</p>
<h2 id="redux-question-15-minutes">Redux Question (15 minutes)</h2>
<p>I want a simple social media app that will store posts. I would like you to use Redux to store the front-end state. Each post should have a body, title, and id. Users should be able to post new posts. They should also be able to delete old posts and edit existing posts. Please describe how you would store and work with posts on the front-end using Redux. In particular,</p>
<ul>
<li>Describe the Redux state shape you would implement</li>
<li>Describe the reducers and action creators you would use</li>
</ul>
<h3 id="solution-2">Solution</h3>
<p>The state should look something like this:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">  posts <span class="op">{</span></a>
<a class="sourceLine" id="cb1-3" title="3">    <span class="dv">1</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-4" title="4">      <span class="dt">id</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-5" title="5">      <span class="dt">title</span><span class="op">:</span> <span class="st">&#39;A Post&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-6" title="6">      <span class="dt">body</span><span class="op">:</span> <span class="st">&#39;It</span><span class="sc">\&#39;</span><span class="st">s body&#39;</span></a>
<a class="sourceLine" id="cb1-7" title="7">    <span class="op">},</span></a>
<a class="sourceLine" id="cb1-8" title="8">    <span class="dv">2</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-9" title="9">      <span class="dt">id</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-10" title="10">      <span class="dt">title</span><span class="op">:</span> <span class="st">&#39;Another Post&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-11" title="11">      <span class="dt">body</span><span class="op">:</span> <span class="st">&#39;It also has a body&#39;</span></a>
<a class="sourceLine" id="cb1-12" title="12">    <span class="op">},</span></a>
<a class="sourceLine" id="cb1-13" title="13">  <span class="op">}</span></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="op">}</span></a></code></pre></div>
<p>In particular, the posts should be stored in an object nested under its Id. They should not be stored in an array (because we will want constant time lookup).</p>
<p>The action creators should look something like this:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="im">export</span> <span class="kw">const</span> ReceivePosts <span class="op">=</span> posts <span class="kw">=&gt;</span> (<span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">  type RECEIVE_POSTS<span class="op">,</span></a>
<a class="sourceLine" id="cb2-3" title="3">  posts</a>
<a class="sourceLine" id="cb2-4" title="4"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-5" title="5"></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="im">export</span> <span class="kw">const</span> ReceivePost <span class="op">=</span> post <span class="kw">=&gt;</span> (<span class="op">{</span></a>
<a class="sourceLine" id="cb2-7" title="7">  type RECEIVE_POST<span class="op">,</span></a>
<a class="sourceLine" id="cb2-8" title="8">  post</a>
<a class="sourceLine" id="cb2-9" title="9"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-10" title="10"></a>
<a class="sourceLine" id="cb2-11" title="11"><span class="co">// This action creator should NOT take post as an argument</span></a>
<a class="sourceLine" id="cb2-12" title="12"><span class="co">// The id is enough to identify the post to be deleted, and we always</span></a>
<a class="sourceLine" id="cb2-13" title="13"><span class="co">// want our actions to cary the smallest possible payload</span></a>
<a class="sourceLine" id="cb2-14" title="14"><span class="im">export</span> <span class="kw">const</span> DeletePost <span class="op">=</span> id <span class="kw">=&gt;</span> (<span class="op">{</span></a>
<a class="sourceLine" id="cb2-15" title="15">  type DELETE_POST<span class="op">,</span></a>
<a class="sourceLine" id="cb2-16" title="16">  id</a>
<a class="sourceLine" id="cb2-17" title="17"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>We will only need one reducer. The following reducer would work with the above actions:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="co">// It is important to remember the default state, in this case: {}</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="im">export</span> <span class="im">default</span> <span class="kw">function</span>(state <span class="op">=</span> <span class="op">{},</span> action) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-3" title="3">  <span class="va">Object</span>.<span class="at">freeze</span>(state)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-4" title="4">  <span class="cf">switch</span> (<span class="va">action</span>.<span class="at">type</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-5" title="5">    <span class="cf">case</span> <span class="dt">RECEIVE_POSTS</span><span class="op">:</span></a>
<a class="sourceLine" id="cb3-6" title="6">      <span class="cf">return</span> <span class="va">action</span>.<span class="at">posts</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-7" title="7">    <span class="cf">case</span> <span class="dt">RECEIVE_POST</span><span class="op">:</span></a>
<a class="sourceLine" id="cb3-8" title="8">      <span class="co">// Make sure the post is nested under its Id before merging with state</span></a>
<a class="sourceLine" id="cb3-9" title="9">      <span class="cf">return</span> <span class="va">Object</span>.<span class="at">assign</span>(<span class="op">{},</span> state<span class="op">,</span> <span class="op">{</span> [<span class="va">action</span>.<span class="va">post</span>.<span class="at">id</span>]<span class="op">:</span> <span class="va">action</span>.<span class="at">post</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-10" title="10">    <span class="cf">case</span> <span class="dt">DELETE_POST</span><span class="op">:</span></a>
<a class="sourceLine" id="cb3-11" title="11">      <span class="kw">let</span> newState <span class="op">=</span> <span class="va">Object</span>.<span class="at">assign</span>(<span class="op">{},</span> state)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-12" title="12">      <span class="kw">delete</span> newState[<span class="va">action</span>.<span class="at">id</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb3-13" title="13">      <span class="cf">return</span> newState<span class="op">;</span></a>
<a class="sourceLine" id="cb3-14" title="14">    <span class="cf">default</span><span class="op">:</span></a>
<a class="sourceLine" id="cb3-15" title="15">      <span class="cf">return</span> state<span class="op">;</span></a>
<a class="sourceLine" id="cb3-16" title="16">  <span class="op">}</span></a>
<a class="sourceLine" id="cb3-17" title="17"><span class="op">}</span></a></code></pre></div>
<p>If you or your interviewee struggled with this problem, take some time to go through the <a href="https://github.com/appacademy/curriculum/tree/master/react/projects/todos">Todos project</a> from the main curriculum again to brush up on Redux.</p>
<h2 id="debugging-question-15-minutes">Debugging Question (15 minutes)</h2>
<p>A junior software engineer at our company wrote the following code. There are at least four problems with it. What are those problems, and how would you fix them? Also, what does the component do? And can you give an example of how it could be used?</p>
<p>Feel free to let the interviewee view the code <a href="./distance-tracker.md">here</a>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">class</span> DistanceTracker <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-2" title="2">  <span class="at">constructor</span>(props) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-3" title="3">    <span class="kw">this</span>.<span class="at">state</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-4" title="4">      <span class="dt">distanceTravelled</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-5" title="5">      <span class="dt">speed</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></a>
<a class="sourceLine" id="cb4-6" title="6">    <span class="op">};</span></a>
<a class="sourceLine" id="cb4-7" title="7">  <span class="op">}</span></a>
<a class="sourceLine" id="cb4-8" title="8"></a>
<a class="sourceLine" id="cb4-9" title="9">  <span class="at">componentDidMount</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb4-10" title="10">    <span class="kw">this</span>.<span class="at">startTracker</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb4-11" title="11">  <span class="op">}</span></a>
<a class="sourceLine" id="cb4-12" title="12"></a>
<a class="sourceLine" id="cb4-13" title="13">  <span class="at">startTracker</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb4-14" title="14">    <span class="at">setInterval</span>(() <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-15" title="15">      <span class="kw">this</span>.<span class="at">updateDistance</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb4-16" title="16">    <span class="op">},</span> <span class="dv">1000</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-17" title="17">  <span class="op">}</span></a>
<a class="sourceLine" id="cb4-18" title="18"></a>
<a class="sourceLine" id="cb4-19" title="19">  <span class="at">updateDistance</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb4-20" title="20">    <span class="kw">const</span> <span class="op">{</span> distanceTravelled<span class="op">,</span> speed <span class="op">}</span> <span class="op">=</span> <span class="kw">this</span>.<span class="at">state</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-21" title="21">    <span class="kw">const</span> updatedDistance <span class="op">=</span> distanceTravelled <span class="op">+</span> speed<span class="op">;</span></a>
<a class="sourceLine" id="cb4-22" title="22">    <span class="va">console</span>.<span class="at">log</span>(<span class="vs">`Before update, distance was: </span><span class="sc">${</span><span class="kw">this</span>.<span class="va">state</span>.<span class="at">distanceTravelled</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-23" title="23">    <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb4-24" title="24">      <span class="dt">distanceTravelled</span><span class="op">:</span> updatedDistance<span class="op">,</span></a>
<a class="sourceLine" id="cb4-25" title="25">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-26" title="26">    <span class="va">console</span>.<span class="at">log</span>(<span class="vs">`After update, distance is: </span><span class="sc">${</span><span class="kw">this</span>.<span class="va">state</span>.<span class="at">distanceTravelled</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-27" title="27">  <span class="op">}</span></a>
<a class="sourceLine" id="cb4-28" title="28"></a>
<a class="sourceLine" id="cb4-29" title="29">  <span class="at">updateSpeed</span>(value) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-30" title="30">    <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb4-31" title="31">      <span class="dt">speed</span><span class="op">:</span> <span class="kw">this</span>.<span class="va">state</span>.<span class="at">speed</span> <span class="op">+</span> value<span class="op">,</span></a>
<a class="sourceLine" id="cb4-32" title="32">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-33" title="33">  <span class="op">}</span></a>
<a class="sourceLine" id="cb4-34" title="34"></a>
<a class="sourceLine" id="cb4-35" title="35">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb4-36" title="36">    <span class="kw">const</span> <span class="op">{</span> children<span class="op">,</span> headerText <span class="op">}</span> <span class="op">=</span> <span class="kw">this</span>.<span class="at">props</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-37" title="37"></a>
<a class="sourceLine" id="cb4-38" title="38">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb4-39" title="39">      <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-40" title="40">        <span class="op">&lt;</span>h2<span class="op">&gt;{</span>headerText<span class="op">}</span>&lt;/h2<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-41" title="41">        <span class="op">&lt;</span>h3<span class="op">&gt;</span>You are moving north at <span class="op">{</span><span class="kw">this</span>.<span class="va">state</span>.<span class="at">speed</span><span class="op">}</span> feet per <span class="va">second</span>.&lt;/h3<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-42" title="42">        <span class="op">&lt;</span>h3<span class="op">&gt;</span>You have travelled north <span class="op">{</span><span class="kw">this</span>.<span class="va">state</span>.<span class="at">distanceTravelled</span><span class="op">}</span> feet so <span class="va">far</span>.&lt;/h3<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-43" title="43">        <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-44" title="44">          <span class="op">&lt;</span>button onClick<span class="op">={</span><span class="at">updateSpeed</span>(<span class="dv">1</span>)<span class="op">}&gt;</span>Go Faster&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-45" title="45">          <span class="op">&lt;</span>button onClick<span class="op">={</span><span class="at">updateSpeed</span>(<span class="op">-</span><span class="dv">1</span>)<span class="op">}&gt;</span>Go Slower&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-46" title="46">        &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-47" title="47">        <span class="op">{</span>children<span class="op">}</span></a>
<a class="sourceLine" id="cb4-48" title="48">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-49" title="49">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb4-50" title="50">  <span class="op">}</span></a>
<a class="sourceLine" id="cb4-51" title="51"><span class="op">}</span></a></code></pre></div>
<h4 id="solution-3">Solution</h4>
<p>Unlike the other frontend problems we’ve done until now, we won’t be running this code in the browser. Instead, one of the key things we are testing is the interviewee’s fluency in reading and quickly digesting code in order to debug.</p>
<p>It can be tricky to find errors in code without running it. If the interviewee is having trouble finding the following problems, try to nudge them in the right direction. Feel free to allow the interviewee to use the whiteboard for explanations.</p>
<h5 id="the-errors">The Errors</h5>
<h6 id="missing-super">Missing <code>super</code></h6>
<p>In the constructor, there should be a call of <code>super(props);</code> at the beginning.</p>
<h6 id="infinite-interval">Infinite Interval</h6>
<p>This one can be hard to spot. The <code>startTracker</code> method called in the <code>componentDidMount</code> starts a <code>setInterval</code>, but when a component is unmounted, the interval will remain. To fix this, you would want to assign the interval so that it could be referenced and cleared later:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="at">startTracker</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb5-2" title="2">  <span class="kw">this</span>.<span class="at">interval</span> <span class="op">=</span> <span class="at">setInterval</span>(() <span class="kw">=&gt;</span> <span class="op">{</span>...<span class="op">},</span> <span class="dv">1000</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb5-4" title="4"></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="at">componentWillUnmount</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb5-6" title="6">  <span class="at">clearInterval</span>(<span class="kw">this</span>.<span class="at">interval</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-7" title="7"><span class="op">}</span></a></code></pre></div>
<h6 id="async-state-update">Async State Update</h6>
<p>Inside <code>updateDistance</code>, we have a console log that depends on the state after the <code>this.setState(...)</code>. Because <code>setState</code> is asynchronous, it may or may not return the correct value. Instead, we should pass it as a callback like so:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span>...<span class="op">},</span> () <span class="kw">=&gt;</span> <span class="va">console</span>.<span class="at">log</span>(...))<span class="op">;</span></a></code></pre></div>
<h6 id="click-callback">Click Callback</h6>
<p>The <code>onClick</code> should be a callback, not an invoked function. We should have something like this <code>onClick={() =&gt; this.updateSpeed(1)}</code>.</p>
<h5 id="usage">Usage</h5>
<p>This component could be used like this:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="op">&lt;</span>DistanceTracker headerText<span class="op">=</span><span class="st">&quot;This is the header&quot;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb7-2" title="2">  <span class="op">&lt;</span>div<span class="op">&gt;</span>This is a child&lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb7-3" title="3">&lt;/DistanceTracker<span class="op">&gt;</span></a></code></pre></div>
</body>
</html>
